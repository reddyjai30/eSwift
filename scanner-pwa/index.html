<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#6C5CE7" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <title>eSwift Scanner</title>
    <style>
      :root { --brand:#6C5CE7; --acc:#00E5FF; }
      body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background:#0b0f1a; color:#fff; }
      header { padding:14px 16px; background: linear-gradient(135deg, var(--brand), var(--acc)); font-weight:800; letter-spacing:.3px; }
      main { max-width: 560px; margin: 0 auto; padding: 16px; }
      .card { background:#121826; border-radius:14px; padding:16px; box-shadow: 0 8px 24px rgba(0,0,0,.25); }
      video { width:100%; border-radius:12px; background:#000; }
      .row { display:flex; gap:12px; align-items:center; }
      .btn { background: var(--brand); color:#fff; border:0; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer; }
      .btn.secondary { background:#1f2636; color:#cfd6e4; }
      .muted { color:#a5b1c7; }
      .result { margin-top:12px; display:grid; gap:6px; }
      .badge { display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px; }
      .badge.success { background:#1b5e20; }
      .badge.warn { background:#ff8f00; }
      .hidden { display:none; }
      .center { text-align:center; }
      input[type="text"] { width:100%; padding:10px 12px; border-radius:10px; background:#1f2636; border:1px solid #2a3348; color:#fff; }
    </style>
  </head>
  <body>
    <header>eSwift Scanner</header>
    <main>
      <section class="card">
        <div class="row" style="justify-content:space-between; margin-bottom:8px;">
          <div>
            <div style="font-weight:700;">Scan QR</div>
            <div class="muted" style="font-size:13px;">Point at the eSwift QR after payment</div>
          </div>
          <div class="row">
            <button id="btn-photo" class="btn secondary">Use Photo</button>
            <button id="btn-scan" class="btn">Start Camera</button>
          </div>
        </div>
        <video id="video" playsinline class="hidden"></video>
        <canvas id="canvas" class="hidden"></canvas>
        <input id="file" type="file" accept="image/*" capture="environment" class="hidden" />
        <div class="row" style="margin-top:10px;">
          <input id="token" type="text" placeholder="Paste QR token (fallback)" />
          <button id="btn-activate" class="btn secondary">Activate</button>
        </div>
        <div id="status" class="muted" style="margin-top:8px; font-size:13px;"></div>
        <div id="result" class="result"></div>
      </section>
    </main>
    <script type="module" src="/src/main.js"></script>
  </body>
  </html>
